<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.GridPane?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.layout.HBox?>

<SplitPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="andrew_volostnykh.webrunner.MainController"
           orientation="HORIZONTAL"
           dividerPositions="0.22"
           VBox.vgrow="ALWAYS">

    <!-- ðŸ“‚ LEFT PANEL: Collections Tree -->
    <VBox spacing="10">
        <Label text="Collections" styleClass="label"/>
        <TreeView fx:id="collectionTree" VBox.vgrow="ALWAYS"/>
        <Button text="New" onAction="#createNewRequestOrFolder"/>
    </VBox>

    <!-- â–¶ RIGHT PANEL: Existing UI -->
    <VBox spacing="10" VBox.vgrow="ALWAYS">

        <!-- Ð’ÐµÑ€Ñ…Ð½Ñ–Ð¹ Ð±Ð»Ð¾Ðº (URL + ÐºÐ½Ð¾Ð¿ÐºÐ°) -->
        <GridPane hgap="10" vgap="5">
            <columnConstraints>
                <ColumnConstraints minWidth="80"/>
                <ColumnConstraints hgrow="ALWAYS"/>
                <ColumnConstraints minWidth="90"/>
            </columnConstraints>

            <ComboBox fx:id="methodCombo" promptText="Method" GridPane.columnIndex="0"/>
            <TextField fx:id="urlField" promptText="https://api.example.com" GridPane.columnIndex="1"/>

            <Button fx:id="sendButton" onAction="#sendRequest" GridPane.columnIndex="2" GridPane.valignment="CENTER">
                <graphic>
                    <FontIcon iconLiteral="mdi-send:20"/>
                </graphic>
            </Button>
        </GridPane>

        <!-- ðŸ”¥ SplitPane Ð´Ð»Ñ Body Ñ‚Ð° Response -->
        <SplitPane orientation="VERTICAL" dividerPositions="0.55" VBox.vgrow="ALWAYS">
            <!-- Ð’ÐµÑ€Ñ…Ð½Ñ Ð·Ð¾Ð½Ð° -->
            <VBox spacing="10" VBox.vgrow="ALWAYS">
                <TabPane VBox.vgrow="ALWAYS">
                    <Tab text="Body">
                        <VBox spacing="5" VBox.vgrow="ALWAYS">
                            <VBox fx:id="bodyContainer" VBox.vgrow="ALWAYS"/>
                        </VBox>
                    </Tab>
                    <Tab text="Headers">
                        <VBox spacing="10" xmlns:fx="http://javafx.com/fxml">
                            <HBox spacing="5">
                                <TextField fx:id="headerKeyField" promptText="Header Key" />
                                <TextField fx:id="headerValueField" promptText="Header Value" />
                                <Button text="Add" onAction="#addHeader"/>
                            </HBox>

                            <VBox fx:id="headersList" spacing="5"/>
                        </VBox>
                    </Tab>
                    <Tab text="Testing">
                        <TabPane>
                            <!-- Vars Definition -->
                            <Tab text="Vars Definition">
                                <VBox fx:id="varsContainer" VBox.vgrow="ALWAYS"/>
                            </Tab>

                            <!-- On Response -->
                            <Tab text="On Response" disable="true">
                                <Label text="Coming soon..."/>
                            </Tab>
                        </TabPane>
                    </Tab>
                </TabPane>
            </VBox>

            <!-- ÐÐ¸Ð¶Ð½Ñ Ð·Ð¾Ð½Ð° (Response) -->
            <VBox spacing="5" VBox.vgrow="ALWAYS">
                <Label fx:id="statusLabel"/>
                <TextArea fx:id="responseArea" editable="false" VBox.vgrow="ALWAYS"/>
            </VBox>
        </SplitPane>
    </VBox>
</SplitPane>
